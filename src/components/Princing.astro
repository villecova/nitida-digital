---
import Badge from './shared/Badge.astro';
import PricingCard from './shared/PricingCard.astro';

// Recibe una prop para decidir si mostrar solo el plan de especialistas
const { onlySpecialist = false } = Astro.props;

const plans = [
  {
    title: 'Plan Esencial',
    subtitle: 'Identidad sencilla pero sólida',
    description:
      'Ideal para emprendimientos que están comenzando y necesitan una presencia visual profesional y coherente desde el inicio.',
    features: [
      'Logotipo (3 propuestas, 2 rondas de cambios).',
      'Paleta de colores.',
      'Archivos editables listos para impresión o uso digital.',
      'Kit de inicio para redes sociales.',
    ],
    buttonText: 'COTIZAR PLAN',
    link: 'mailto:nitidacrea@gmail.com?subject=Informaci%C3%B3n%20sobre%20el%20Plan%20Esencial&body=Hola%2C%20me%20interesa%20m%C3%A1s%20informaci%C3%B3n%20sobre%20el%20plan%20Esencial.%20Gracias.',
  },
  {
    title: 'Plan Emprendedor',
    subtitle: 'Branding con presencia digital',
    description:
      'Pensado para marcas en crecimiento que necesitan fortalecer su identidad y tener presencia en línea.',
    features: [
      'Todo lo del Plan Esencial.',
      '5 post para redes sociales.',
      '3 íconos para historias destacadas (IG).',
      'Manual básico de marca (uso de logo, colores, tipografía, tono).',
      '3 piezas de diseño gráfico a elegir (post, flyer, presentación, etc.).',
    ],
    buttonText: 'COTIZAR PLAN',
    link: 'mailto:nitidacrea@gmail.com?subject=Informaci%C3%B3n%20sobre%20el%20Plan%20Emprendedor&body=Hola%2C%20me%20interesa%20m%C3%A1s%20informaci%C3%B3n%20sobre%20el%20plan%20Emprendedor.%20Gracias.',
  },
  {
    title: 'Plan Avanzado',
    subtitle: 'Marca completa y lista para despegar',
    description:
      'Para negocios que buscan una identidad visual robusta y una web profesional lista para funcionar.',
    features: [
      'Todo lo del Plan Emprendedor.',
      'Manual de marca extendido (moodboard, tono visual, aplicaciones).',
      '5 piezas de diseño gráfico a elegir.',
      'Identidad visual completa (logo, variaciones, íconos, patrones).',
      'Sitio web de hasta 5 secciones (Inicio, Nosotros, Servicios, etc.).',
    ],
    buttonText: 'COTIZAR PLAN',
    link: 'mailto:nitidacrea@gmail.com?subject=Informaci%C3%B3n%20sobre%20el%20Plan%20Avanzado&body=Hola%2C%20me%20interesa%20m%C3%A1s%20informaci%C3%B3n%20sobre%20el%20plan%20Avanzado.%20Gracias.',
  },
  {
  title: 'Plan Especialista',
  subtitle: 'Diseño enfocado en profesionales',
  description:
    'Pensado para médicos, terapeutas, psicólogos, nutriólogos y especialistas que necesitan una identidad visual confiable, clara y alineada a su profesión.',
  features: [
    'Logotipo (3 propuestas, 2 rondas de cambios).',
    'Manual de marca.',
    'Tarjeta de presentación digital e impresa.',
    'Plantilla editable para recetas o informes.',
    '1 hoja de presentación de servicios o perfil médico.',
    'Imagen de perfil y portada para redes sociales o directorios médicos.',
    'Firma de correo profesional.',
    '1 post de presentación o bienvenida para redes sociales.',
    'Archivos editables y listos para impresión o uso digital.',
  ],
  buttonText: 'COTIZAR PLAN',
  link: 'mailto:nitidacrea@gmail.com?subject=Informaci%C3%B3n%20sobre%20el%20Plan%20Salud&body=Hola%2C%20me%20interesa%20m%C3%A1s%20informaci%C3%B3n%20sobre%20el%20Plan%20Salud.%20Gracias.',
}
];

// Elegir qué planes mostrar
const filteredPlans = onlySpecialist
  ? plans.filter(p => p.title === 'Plan Especialista')
  : plans.filter(p => p.title !== 'Plan Especialista');

const isOnlyOne = filteredPlans.length === 1;
---

<section class="bg-[--background-100] dark:bg-gray-900 py-8 md:py-12" id="planes">
  <div class="max-w-screen-lg mx-auto px-4">
    <div class="text-center mb-12">
      <Badge label="Planes" color="yellow" />
      <h2 class="text-3xl md:text-5xl font-main text-gray-900 dark:text-white my-2">
        Nuestros planes de servicios
      </h2>
      <p class="text-accent dark:text-gray-400 text-lg">
        Explora las opciones y elige el paquete que mejor se adapta a tu proyecto.
      </p>
    </div>

    <div class={` ${isOnlyOne ? 'm-auto md:w-[400px] place-items-center' : ' grid gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3'}`} data-aos="fade-up" data-aos-delay="100">
      {filteredPlans.map((plan) => (
        <PricingCard
          title={plan.title}
          subtitle={plan.subtitle}
          description={plan.description}
          subtext={plan.subtext}
          features={plan.features}
          buttonText={plan.buttonText}
          link={plan.link}
        />
      ))}
    </div>
  </div>
</section>
